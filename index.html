<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ø¬Ø±ÙˆØ¨ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <meta name="google-adsense-account" content="ca-pub-3194084220429968" />
    <style>
      :root {
        --brand: #ff5722;
        --brand2: #ff8a50;
        --card: #fff;
        --muted: #67748e;
        --ok: #1faa59;
        --bad: #e53935;
        --bg1: #071426;
        --bg2: #0b2b46;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Cairo", sans-serif;
        color: #0d1b2a;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, var(--bg1), var(--bg2));
        padding: 18px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-user-drag: none;
      }
      .app {
        width: 100%;
        max-width: 1150px;
        overflow: hidden;
        border-radius: 16px;
        background: linear-gradient(180deg, #fff, #fafafa);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
      }
      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 16px 20px;
        color: #fff;
        background: linear-gradient(90deg, var(--brand), var(--brand2));
      }
      header h1 {
        margin: 0;
        font-size: 18px;
      }
      header .sub {
        opacity: 0.95;
        font-size: 13px;
      }

      main {
        display: grid;
        grid-template-columns: 1fr 380px;
        gap: 16px;
        padding: 18px;
      }
      @media (max-width: 980px) {
        main {
          grid-template-columns: 1fr;
        }
        .aside {
          order: 2;
        }
      }

      .card {
        background: var(--card);
        border-radius: 14px;
        padding: 16px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
      }
      .welcome {
        display: grid;
        gap: 12px;
        place-items: center;
        padding: 28px;
      }
      .input {
        width: 100%;
        max-width: 320px;
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid #eee;
        outline: none;
        font-size: 16px;
      }
      .btn {
        background: var(--brand);
        color: #fff;
        border: none;
        padding: 12px 16px;
        border-radius: 12px;
        font-weight: 800;
        cursor: pointer;
        transition: 0.15s transform, 0.15s box-shadow;
      }
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.1);
      }
      .meta {
        color: var(--muted);
        font-size: 13px;
      }

      .question {
        font-size: 20px;
        margin: 10px 0 6px;
      }
      .options {
        display: grid;
        gap: 10px;
      }
      .option {
        background: #f6f8fa;
        padding: 12px;
        border-radius: 12px;
        text-align: center;
        font-weight: 800;
        border: 2px solid transparent;
        cursor: pointer;
        transition: 0.16s;
      }
      .option:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06);
      }
      .option.correct {
        background: #e8f8ef;
        border-color: var(--ok);
      }
      .option.wrong {
        background: #ffecec;
        border-color: var(--bad);
      }

      /* Ø§Ù„Ø£Ø³Ø§Ø³ */
      #question {
        font-size: 1.5rem;
        margin-bottom: 15px;
        text-align: center;
        line-height: 1.6;
      }

      .option-btn {
        display: block;
        width: 100%;
        padding: 12px;
        margin: 8px 0;
        font-size: 1rem;
        border-radius: 12px;
        cursor: pointer;
        transition: background 0.3s;
      }

      /* Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
      @media (max-width: 600px) {
        #question {
          font-size: 1.2rem; /* Ø®Ø· Ø£ØµØºØ± Ø´ÙˆÙŠØ© Ø¹Ù„Ø´Ø§Ù† ÙŠØ¯Ø®Ù„ */
          padding: 0 10px;
        }

        .option-btn {
          font-size: 0.95rem;
          padding: 10px;
        }
      }

      .progress {
        height: 10px;
        background: #eee;
        border-radius: 999px;
        overflow: hidden;
      }
      .progress > i {
        display: block;
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, var(--brand), var(--brand2));
      }

      .timerWrap {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      .circle {
        width: 74px;
        height: 74px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        font-weight: 900;
        color: var(--brand);
        background: conic-gradient(var(--brand) 0deg, #eee 0deg);
      }
      @media (max-width: 600px) {
        .circle {
          width: 60px;
          height: 60px;
          font-size: 14px;
        }
        .options {
          gap: 6px;
        }
      }

      .leaders {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .leader {
        background: linear-gradient(180deg, #fff, #fafafa);
        border-radius: 12px;
        padding: 10px;
        display: grid;
        grid-template-columns: 32px 1fr auto;
        gap: 10px;
        align-items: center;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.04);
        font-weight: 800;
      }
      .leader .bar {
        height: 8px;
        background: #eee;
        border-radius: 10px;
        overflow: hidden;
        margin-top: 6px;
      }
      .leader .bar > i {
        display: block;
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, var(--brand), var(--brand2));
      }
      .crown {
        font-size: 18px;
      }
      .rank1 {
        background: linear-gradient(90deg, #ffd700, #ffcf5b);
      }
      .rank2 {
        background: linear-gradient(90deg, #c0c0c0, #e6e6e6);
      }
      .rank3 {
        background: linear-gradient(90deg, #cd7f32, #e0a67a);
      }

      .center {
        text-align: center;
      }
      .hidden {
        display: none;
      }
      footer {
        text-align: center;
        padding: 14px;
        font-size: 13px;
        color: #fff;
        background: linear-gradient(90deg, var(--brand), var(--brand2));
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
      }
      #winnerPopup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        background: #fff;
        padding: 28px 36px;
        border-radius: 16px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        text-align: center;
        z-index: 9999;
        transition: transform 0.3s ease;
      }
      #winnerPopup.show {
        transform: translate(-50%, -50%) scale(1);
      }
      #winnerPopup h2 {
        font-size: 24px;
        margin: 0 0 12px;
        color: var(--brand);
      }
      #winnerPopup p {
        font-size: 18px;
        margin: 0;
        font-weight: 700;
      }
      #winnerOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.35);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 9998;
      }
      #winnerOverlay.show {
        opacity: 1;
        pointer-events: auto;
      }
      #winnerPopup button {
        margin-top: 18px;
        padding: 10px 20px;
        border: none;
        background: var(--brand);
        color: #fff;
        font-weight: 700;
        border-radius: 12px;
        cursor: pointer;
        transition: 0.2s;
      }
      #winnerPopup button:hover {
        transform: translateY(-2px);
      }
      #finalPage {
        background: linear-gradient(180deg, var(--bg1), var(--bg2));
        color: #fff;
        text-align: center;
        padding: 40px;
        width: 100%;
        height: 100vh;
        display: none; /* hidden Ø§ÙØªØ±Ø§Ø¶ÙŠ */
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10000;
      }
      #finalPage.show {
        display: flex; /* ØªØ¸Ù‡Ø± Ù„Ù…Ø§ Ù†Ø¶ÙŠÙ class show */
      }

      #finalPage a {
        color: #ff8a50; /* Ù„ÙˆÙ† ÙˆØ§Ø¶Ø­ Ù„Ù„Ø±Ø§Ø¨Ø· */
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .popup {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
      }
      #timer {
        font-size: 22px;
        font-weight: bold;
        color: red;
        text-align: center;
        margin: 15px 0;
      }
      .center-timer {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #ff5722, #ff8a50);
        color: white;
        font-size: 4rem;
        font-weight: 900;
        padding: 20px 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(255, 87, 34, 0.6);
        z-index: 10000;
        user-select: none;
        text-align: center;
        font-family: "Cairo", sans-serif;
        letter-spacing: 4px;
        transition: opacity 0.3s ease;
      }
      .center-timer.hidden {
        opacity: 0;
        pointer-events: none;
      }
      .center-timer.show {
        opacity: 1;
        pointer-events: auto;
      }
    </style>
  </head>
  <body>
    <div class="app" role="application">
      <header>
        <div>
          <h1>Ø¬Ø±ÙˆØ¨ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ</h1>
          <div class="sub" id="topicLabel">Ø§Ù„Ù…Ø­ÙˆØ±: Ø¹Ø§Ù…</div>
        </div>
        <div class="sub">Ø§Ù„Ø­Ø§Ù„Ø©: <span id="statusShort">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±</span></div>
      </header>
      <div
        class="sub"
        id="quizTimer"
        style="font-weight: bold; font-size: 17px; color: #ca0000"
      >
        Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ÙƒÙ„Ù‡Ø§: --:--
      </div>

      <main>
        <section>
          <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
          <div id="welcomeCard" class="card welcome">
            <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©!</h2>
            <p class="meta">
              Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙˆØ§Ø¶ØºØ· Ù…Ø´Ø§Ø±ÙƒØ©. ØªØ¨Ø¯Ø£ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø¹Ø¯Ø¯ 2
              Ù…ØªØ³Ø§Ø¨Ù‚ Ù„Ù„ØªØ¬Ø±Ø¨Ø©.
            </p>
            <input
              id="nameInput"
              class="input"
              placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ (Ù…Ø«Ø§Ù„: Ø±Ø§Ù†ÙŠØ§)"
            />
            <div
              style="
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
                justify-content: center;
                margin-top: 8px;
              "
            >
              <button id="joinBtn" class="btn">Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</button>
            </div>
            <div class="meta" style="margin-top: 8px">
              Ù…ØªØµÙ„ÙŠÙ† Ø§Ù„Ø¢Ù†: <b id="playersCount">0</b>
            </div>

            <div id="waitingBox" class="card" style="margin-top: 10px">
              <div class="meta" id="waitingText">
                ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¹Ø¯Ø¯ â€” Ø§Ù„Ø¢Ù† 0 / 2
              </div>
              <div class="progress" style="margin-top: 8px">
                <i id="waitingProgress"></i>
              </div>
            </div>
          </div>

          <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© -->
          <div id="quizCard" class="card hidden">
            <div class="row">
              <div style="flex: 1">
                <div class="meta" id="progressText">Ø³Ø¤Ø§Ù„ 0 / 0</div>
                <div id="questionText" class="question">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</div>
                <div class="progress" style="margin-top: 8px">
                  <i id="qProgress"></i>
                </div>
              </div>
              <div class="timerWrap">
                <div class="circle" id="circleTimer">--</div>
                <div style="text-align: right">
                  <div class="meta">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø³Ø¤Ø§Ù„</div>
                  <div
                    id="timeText"
                    style="font-weight: 900; color: var(--brand)"
                  >
                    --
                  </div>
                </div>
              </div>
            </div>

            <div id="options" class="options" style="margin-top: 12px"></div>
            <div
              id="feedback"
              class="meta"
              style="margin-top: 8px; min-height: 20px"
            ></div>

            <div id="doneBox" class="card hidden" style="margin-top: 12px">
              <div class="center">
                <strong>âœ… Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ.</strong>
                <div class="meta" style="margin-top: 6px">
                  Ø§Ù†ØªØ¸Ø± Ø²Ù…Ù„Ø§Ø¦Ùƒ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©.
                </div>
              </div>
            </div>

            <!-- Ø²Ø± Ø§Ù„Ø§Ù†Ø³Ø­Ø§Ø¨ -->
            <div style="margin-top: 12px; text-align: center">
              <button id="leaveBtn" class="btn" style="background: crimson">
                Ø§Ù†Ø³Ø­Ø§Ø¨
              </button>
            </div>
          </div>
        </section>

        <!-- Ø¬Ø§Ù†Ø¨: ØªØ±ØªÙŠØ¨ Ù…Ø¨Ø§Ø´Ø± -->
        <aside class="aside">
          <div class="card">
            <h3>Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h3>
            <ol id="leaderList" class="leaders" style="margin-top: 10px"></ol>
            <div class="meta" style="margin-top: 8px">
              ÙŠØ´Ù…Ù„ Ø§Ù„Ù†Ù‚Ø§Ø· Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹ Ù„ØªØ­ÙÙŠØ² Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©
            </div>
          </div>

          <div class="card" style="margin-top: 12px">
            <h3>Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</h3>
            <div class="meta">Ø§Ù„Ø­Ø§Ù„Ø©: <b id="statusLabel">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±</b></div>
            <div style="margin-top: 6px" class="meta">
              Ø§Ù„Ù…ØªØµØ¯Ø±: <b id="topBadge">â€”</b>
            </div>
          </div>
        </aside>
      </main>
      <div id="winnerOverlay"></div>

      <div id="winnerPopup">
        <h2>ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ!</h2>
        <p id="winnerName">â€”</p>
        <p id="winnerScore">â€” Ù†Ù‚Ø§Ø·</p>
        <button id="closeWinnerPopup">Ø§ØºÙ„Ø§Ù‚</button>
      </div>
      <div id="finalPage" class="hidden">
        <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©!</h2>
        <p>Ø´ÙƒØ±Ø§ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
        <button id="backToHomeBtn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
      </div>
      <!-- Ø¶Ø¹ Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ù€ body -->
      <div
        id="fullLobbyMsg"
        style="
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(0, 0, 0, 0.85);
          color: #fff;
          padding: 25px 40px;
          border-radius: 12px;
          font-size: 22px;
          text-align: center;
          z-index: 9999;
          display: none;
          box-shadow: 0 0 15px #000;
        "
      >
        Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø§ÙƒØªÙ…Ù„Øª! Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© ğŸ”’
        <br /><br />
        <button
          id="closeLobbyMsg"
          style="
            padding: 8px 20px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background-color: #ffd700;
            color: #000;
            font-weight: bold;
          "
        >
          Ø­Ø³Ù†Ø§Ù‹
        </button>
      </div>

      <footer>Â© Ø¬Ø±ÙˆØ¨ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ</footer>
    </div>

    <!-- Firebase compat -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

    <script>
      /* ========== Firebase ========== */
      const firebaseConfig = {
        apiKey: "AIzaSyDOQ1wpof7OhyRRCD_0Of0RY0jggnHmSJ4",
        authDomain: "test-competion.firebaseapp.com",
        databaseURL: "https://test-competion-default-rtdb.firebaseio.com",
        projectId: "test-competion",
        storageBucket: "test-competion.appspot.com",
        messagingSenderId: "605584028373",
        appId: "1:605584028373:web:9cfc40fad5bf6356dbe85c",
        measurementId: "G-7WEQBFVEJW",
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();
      const liveRef = db.ref("liveQuiz");
      const playersRef = db.ref("liveQuiz/players");

      /* ========== Ø£Ø³Ø¦Ù„Ø© (Ù…Ø«Ø§Ù„) ========== */
      const QUESTIONS = [
        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù…Ø´ Ø¥ØµØ¯Ø§Ø± ØµØ­ÙŠØ­ Ù…Ù† Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª Ø£ÙˆÙÙŠØ³ØŸ",
          opts: ["Office Vista", "Office 2003", "Office 2007", "Office 2010"],
          a: 0,
        },
        {
          q: "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ",
          opts: [
            "Ù…Ù† ÙƒØ§Ø¦Ù† OLE",
            "Ù…Ù† Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø¨Ø­Ø«",
            "Ù…Ù† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø³ÙŠÙ‚",
            "Ù…Ù† Ø£Ø¯Ø§Ø© Ø§Ù„ØµÙˆØ±",
          ],
          a: 1,
        },
        {
          q: "Ù„Ùˆ Ø²Ø§Ø¯Øª Ø§Ù„Ø¨ÙƒØ³Ù„Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©ØŒ Ù‡Ù„ ÙŠÙ‚Ù„ ÙˆØ¶ÙˆØ­ Ø§Ù„ØµÙˆØ±ØŸ",
          opts: ["ØµØ­", "ØºÙ„Ø·"],
          a: 1,
        },
        {
          q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ØŸ",
          opts: [
            "ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù‚Ø±Øµ Ø§Ù„ØµÙ„Ø¨",
            "ØªØ­Ø¯ÙŠØ« Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„",
            "Ø²ÙŠØ§Ø¯Ø© Ø­Ø¬Ù… Ø§Ù„Ø±Ø§Ù…Ø§Øª",
            "ØªØ«Ø¨ÙŠØª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø¶Ø§Ø¯ ÙÙŠØ±ÙˆØ³Ø§Øª",
          ],
          a: 2,
        },
        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ÙŠÙ…Ø«Ù„ Ù…Ù„ÙÙ‹Ø§ Ø¬Ø§Ù‡Ø²Ù‹Ø§ Ù„Ù„ØªØ´ØºÙŠÙ„ØŸ",
          opts: [".ptt", "xlsx", ".docx", ".exe"],
          a: 3,
        },
        {
          q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ© Ø§Ù„Ø¥Ù†ØªØ±Ù†ØªØŸ",
          opts: ["HTTPS", "HTTP", "FTP", "SMTP"],
          a: 0,
        },
        {
          q: "Ù…Ø§ Ù‡Ùˆ Ù†ÙˆØ¹ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø°ÙŠ ÙŠØºØ·ÙŠ Ù…Ø³Ø§Ø­Ø© Ø¬ØºØ±Ø§ÙÙŠØ© ÙƒØ¨ÙŠØ±Ø©ØŒ Ù…Ø«Ù„ Ù…Ø¯ÙŠÙ†Ø© Ø£Ùˆ Ø¯ÙˆÙ„Ø©ØŸ",
          opts: ["WAN", "LAN", "MAN", "WLAN"],
          a: 0,
        },
        {
          q: "Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„ÙŠ Ø£Ø²Ø±Ø§Ø± __. Ù…Ø«Ù„ ï¸ Close",
          opts: ["Ø§Ù„ØªØ¹Ø¯ÙŠÙ„", "Ø§Ù„ØªØ­Ø±ÙŠØ±", "Ø§Ù„ØªØ­ÙƒÙ…", "Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©"],
          a: 2,
        },
        {
          q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø®ØªØµØ§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠØ© ÙÙŠ Ù…Ø³ØªÙ†Ø¯ØŸ",
          opts: [
            "Function Key 7",
            "Function Key 2",
            "Function Key 5",
            "Function Key 10",
          ],
          a: 0,
        },
        {
          q: "Ù…Ø§ Ù‡ÙŠ ÙˆØ¸ÙŠÙØ© Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙƒØ§Ø´ (Cache Memory)ØŸ",
          opts: [
            "ØªØ³Ø±ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ ÙˆØ§Ù„Ø°Ø§ÙƒØ±Ø©",
            "ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙÙ‚Ø·",
            "ØªØ®Ø²ÙŠÙ† Ø¯Ø§Ø¦Ù… Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            "Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù…Ù†Ø§ÙØ° Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ø¥Ø®Ø±Ø§Ø¬",
          ],
          a: 0,
        },
        {
          q: "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªÙØ³ØªØ®Ø¯Ù… Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠ Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ ExcelØŸ",
          opts: ["SUM", "AVERAGE", "MAX", "COUNT"],
          a: 1,
        },
        {
          q: "ÙŠÙˆØ¬Ø¯ Ù†Øµ ÙÙŠ Ù…Ø³ØªÙ†Ø¯ Ø¨ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø±ÙŠØ¶ØŒ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø± Ù…Ø¹ Ø®Ù„ÙÙŠØ© Ø®Ø¶Ø±Ø§Ø¡. Ù†Ø±ÙŠØ¯ ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¹Ù„Ù‰ ÙÙ‚Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©. Ø£ÙŠ Ø®ÙŠØ§Ø± Ø³Ù†Ø³ØªØ®Ø¯Ù…ØŸ",
          opts: [
            "Ø£Ø¯Ø§Ø© Ù†Ø³Ø® Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ / Format Painter ğŸ–Œ",
            "Ø£Ø¯Ø§Ø© Ø¥Ø¯Ø±Ø§Ø¬ Ø¬Ø¯ÙˆÙ„",
            "Ø£Ø¯Ø§Ø© Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ù„ØµÙ‚",
            "Ø£Ø¯Ø§Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠ",
          ],
          a: 0,
        },
        {
          q: "Ù…Ø§ Ù‡Ùˆ Ù†Ø·Ø§Ù‚ Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ· ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ WordØŸ",
          opts: ["Ù¨ : Ù§Ù¢", "Ù¡Ù  : Ù¡Ù Ù ", "Ù¥ : Ù§Ù¥", "Ù£ : Ù¨Ù "],
          a: 0,
        },
        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ ÙŠÙØ¹Ø¨Ù‘Ø± Ø¹Ù† ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù€ BIOS ÙÙŠ Ø§Ù„Ø­Ø§Ø³Ø¨ØŸ",
          opts: [
            "Ù†Ø¸Ø§Ù… ÙŠÙØ®Ø²Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø±Øµ Ø§Ù„ØµÙ„Ø¨",
            "Ø£Ø¯Ø§Ø© ØªØ³ØªØ®Ø¯Ù… Ù„ØªØ­Ø±ÙŠØ± Ø§Ù„Ù†ØµÙˆØµ",
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ­Ù…Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø§Ø²",
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠØ©",
          ],
          a: 2,
        },
        {
          q: "Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠØŒ Ø£ÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù†Ø³ØªØ®Ø¯Ù…ØŸ",
          opts: ["Ms Word", "Ms Excel", "Ms PowerPoint", "Ms Access"],
          a: 1,
        },
        {
          q: "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬ÙˆÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙˆØ§Ù„Ø¶ØºØ· Ø§Ù„Ø¬ÙˆÙŠ ÙÙŠ Ø§Ù„Ø·Ø§Ø¦Ø±Ø§ØªØŸ",
          opts: [
            "Ø­Ø§Ø³ÙˆØ¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬ÙˆÙŠØ©",
            "Ø­Ø§Ø³ÙˆØ¨ Ø§Ù„Ø±Ø­Ù„Ø©",
            "Ø§Ù„Ø·ÙŠØ§Ø± Ø§Ù„Ø¢Ù„ÙŠ",
            "Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø©",
          ],
          a: 0,
        },
        {
          q: "Ø§Ù„ÙƒÙŠÙ„Ùˆ Ø¨Ø§ÙŠØª ÙŠØ³Ø§ÙˆÙŠ ÙƒÙ… Ø¨Ø§ÙŠØªØŸ",
          opts: ["512", "1000", "1024", "1014"],
          a: 2,
        },
        {
          q: "ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Microsoft WordØŒ Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ Ù‡Ùˆ _____ØŸ",
          opts: [
            "Ø¨Ø±Ø§Ù…Ø¬ ØµØºÙŠØ±Ø© ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¯Ø§Ø®Ù„ Word Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ù‡Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… VBA",
            "Ø£Ø¯ÙˆØ§Øª ÙƒØ¨ÙŠØ±Ø© ÙÙŠ Word Ù…Ø«Ù„ Ø¯Ù…Ø¬ Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª",
            "Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„ØªØ®ØµÙŠØµ Ø¨Ø±Ù†Ø§Ù…Ø¬ Word",
            "Ø¥Ø¶Ø§ÙØ§Øª ØµØºÙŠØ±Ø© ÙŠØªÙ… ØªØ«Ø¨ÙŠØªÙ‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„ÙŠÙ‡Ø§",
          ],
          a: 0,
        },
        {
          q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ ÙÙŠ WordØŸ",
          opts: [
            "Java",
            "VBA / Visual Basic for Applications",
            "Python",
            "C++",
          ],
          a: 1,
        },
        {
          q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø´Ø±Ø·Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù…ØŸ",
          opts: ["2", "1", "3", "4"],
          a: 0,
        },
        {
          q: "ÙÙŠ Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… PowerPointØŒ ÙŠÙ…ÙƒÙ† ØªÙƒØ±Ø§Ø± Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ÙƒÙ… Ù…Ø±Ø©ØŸ",
          opts: ["2 : 5", "1 : 5", "2 : 10", "1 : 20"],
          a: 2,
        },
        {
          q: "Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ø£ØµÙ„ Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§ Ù…Ù† ÙˆÙƒØ§Ù„Ø© Ø£ÙŠØŸ",
          opts: ["NASA", "ARPA", "NSF"],
          a: 1,
        },
        {
          q: "Ø§Ù„Ø¹Ù…ÙˆØ¯ ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Execl ÙŠÙ…Ø«Ù„ Ø¨ ____",
          opts: ["Ø±Ù‚Ù…", "Ù„Ø§ Ø´Ø¦", "Ø­Ø±Ù"],
          a: 2,
        },
        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ù‡Ùˆ Ø§Ù…ØªØ¯Ø§Ø¯ Ù…Ù„Ù Ù†ØµÙŠØŸ",
          opts: ["t et", "ret", "txt", "tft"],
          a: 2,
        },
        {
          q: "Ù„Ù†Ù‚Ù„ Ù…Ù„Ù Ù…Ù† Ù…ÙƒØ§Ù† Ø¥Ù„Ù‰ Ø¢Ø®Ø± ÙÙŠ Ø¬Ù‡Ø§Ø² Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±ØŒ Ù†Ø³ØªØ®Ø¯Ù…:",
          opts: ["Ù†Ø³Ø® ÙÙ‚Ø·", "Ù‚Øµ Ø«Ù… Ù„ØµÙ‚", "Ù†Ø³Ø® Ø«Ù… Ù„ØµÙ‚", "Ø­Ø°Ù Ø«Ù… Ø¥Ø¯Ø±Ø§Ø¬"],
          a: 1,
        },
        {
          q: "Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ù‡ÙŠ",
          opts: [
            "Ø¨Ø±Ø§Ù…Ø¬ ØªØ´ØºÙŠÙ„",
            "Ø£Ø´ÙŠØ§Ø¡ Ù…Ø§Ø¯ÙŠØ© ØªØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ®Ø²ÙŠÙ†",
            "Ø£Ù†Ø¸Ù…Ø© ØªØ´ØºÙŠÙ„",
            "ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø­Ø§Ø³ÙˆØ¨",
          ],
          a: 1,
        },
        {
          q: "ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø§Ø³Ø­ Ø§Ù„Ø¶ÙˆØ¦ÙŠ Ù‡ÙŠ:",
          opts: [
            "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØª",
            "Ø¥Ù†ØªØ§Ø¬ Ù†Ø³Ø® ÙˆØ±Ù‚ÙŠØ©",
            "Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø£Ùˆ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ù„Ù‰ ØµÙŠØºØ© Ø±Ù‚Ù…ÙŠØ©",
            "Ø¹Ø±Ø¶ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„ØµÙˆØ±",
          ],
          a: 2,
        },
        {
          q: "Ø¹Ù†Ø¯ ÙØªØ­ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª ÙˆÙˆØ±Ø¯ØŒ ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ØŸ",
          opts: ["2", "1", "3", "4"],
          a: 1,
        },
        {
          q: "Ø£ÙŠÙ† ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ØŸ",
          opts: [
            "Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©",
            "Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù‚Ø±Øµ",
            "Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            "Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬",
          ],
          a: 2,
        },
        {
          q: "Ù„Ø¹Ù…Ù„ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ø«Ù†ÙŠÙ† Ù…Ù† Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†ØŒ Ø£ÙŠ Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ù†Ø­Ù†ÙŠØ§Øª ØªØ³ØªØ®Ø¯Ù…ØŸ",
          opts: ["Ù…Ù†Ø­Ù†Ù‰ Ø¯Ø§Ø¦Ø±ÙŠ", "Ù…Ù†Ø­Ù†Ù‰ Ø¹Ù…ÙˆØ¯ÙŠ", "Ù…Ù†Ø­Ù†Ù‰ Ø®Ø·ÙŠ", "Ù„Ø§ Ø´Ø¦"],
          a: 1,
        },
        {
          q: "Ø¥ÙŠÙ‡ Ù‡Ùˆ Ø§Ø³Ù… Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„ÙŠ Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† Ø¹Ù…Ù„ÙˆÙ‡ ÙÙŠ Ø§Ù„Ø£ÙˆÙ„ Ø¹Ø´Ø§Ù† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ‡ Ù‡Ù…Ø§ Ù†ÙØ³Ù‡Ù…ØŸ",
          opts: ["DREF", "UNIX", "OS/2", "Ù„Ø§ ÙˆØ§Ø­Ø¯Ø© Ù…Ù† Ø¯ÙˆÙ„"],
          a: 1,
        },
        {
          q: "ÙŠØ­Ù…ÙŠ Ù‚Ø§Ù†ÙˆÙ† Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø±:",
          opts: [
            "Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ø§Ù„Ø­Ø§Ø³ÙˆØ¨",
            "Ø³ÙˆØ¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨",
            "Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø¤Ù„ÙÙŠÙ†",
            "Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø©",
          ],
          a: 2,
        },
        {
          q: "Ø£ÙŠ Ø§Ù…ØªØ¯Ø§Ø¯ ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ",
          opts: [".exe", ".sys", ".xls", ".doc"],
          a: 1,
        },
        {
          q: "Ø£ÙŠÙ‘ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ØªÙØ¹ØªØ¨Ø± ÙˆØ­Ø¯Ø© Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ¥Ø®Ø±Ø§Ø¬:",
          opts: ["Ø§Ù„Ù‚Ø±Øµ Ø§Ù„ØµÙ„Ø¨", "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†", "Ø§Ù„ÙØ£Ø±Ø©", "Ø§Ù„Ø·Ø§Ø¨Ø¹Ø©"],
          a: 0,
        },
        {
          q: "Ø¥Ø°Ø§ Ø£Ø±Ø¯Ù†Ø§ ØªÙˆØµÙŠÙ„ Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ù‡Ø§Ø² Ù…Ù„Ø­Ù‚ Ø¨Ø§Ù„Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¢Ù„ÙŠØŒ ÙØ¥Ù† Ø°Ù„Ùƒ ÙŠØ¹ØªÙ…Ø¯ ØºØ§Ù„Ø¨Ù‹Ø§ Ø¹Ù„Ù‰:",
          opts: [
            "Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„",
            "ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø®Ø§Ø±Ø¬ ÙÙŠ Ø§Ù„Ø¬Ù‡Ø§Ø²",
            "ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø§Ø¨Ø¹Ø§Øª ÙˆÙƒØ±Øª Ø§Ù„ÙØ§ÙƒØ³",
            "ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø§Ø¨Ø¹Ø§Øª ÙˆÙƒØ±Øª Ø§Ù„Ø´Ø¨ÙƒØ©",
          ],
          a: 1,
        },
        {
          q: "Ø£ÙŠ Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙŠØ­ØªÙØ¸ ÙÙ‚Ø· Ø¨Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ (CPU) Ø¨Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ Ø­Ø§Ù„ÙŠÙ‹Ø§:",
          opts: ["ROM", "Mos", "RAM", "ASC"],
          a: 2,
        },

        {
          q: "ØªØªÙƒÙˆÙ† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ù†Ù‚Ø§Ø· Ù…Ù„ÙˆÙ‘Ù†Ø© ØµØºÙŠØ±Ø© ØªÙØ³Ù…Ù‰ Ø¨ÙƒØ³Ù„ (Pixel).",
          opts: ["ØµØ­", "Ø®Ø·Ø£"],
          a: 0,
        },
        {
          q: "Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ÙŠØ¸Ù‡Ø±Ø§Ù† Ø¹Ù„Ù‰ Ø£ÙŠ Ø´Ø±ÙŠØ·ØŸ",
          opts: ["Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", "Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù‡Ø§Ù…"],
          a: 1,
        },
        {
          q: "Ø§Ù„Ø³Ù…Ø§Ø¹Ø© Ù…Ù† ÙˆØ­Ø¯Ø§Øª:",
          opts: ["Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„", "Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬", "Ø§Ù„ØªØ®Ø²ÙŠÙ†", "Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"],
          a: 1,
        },

        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ØªÙØ¹Ø¯ Ù…Ù† ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ØŸ",
          opts: [
            "Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­",
            "Ø§Ù„ÙØ£Ø±Ø© (Ø§Ù„Ù…Ø§ÙˆØ³)",
            "Ø§Ù„Ø³Ù…Ø§Ø¹Ø©",
            "Ø§Ù„Ù…Ø§Ø³Ø­ Ø§Ù„Ø¶ÙˆØ¦ÙŠ",
          ],
          a: 2,
        },
        {
          q: "Ø§Ù„Ø§Ø®ØªØµØ§Ø± MS Paint ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰:",
          opts: [
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø±Ø³Ø§Ù…",
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆÙˆØ±Ø¯",
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¥ÙƒØ³Ù„",
            "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¨Ø§ÙˆØ±Ø¨ÙˆÙŠÙ†Øª",
          ],
          a: 0,
        },
        {
          q: "Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ø§Ù„Ù€ Baud RateØŸ",
          opts: [
            "Ø³Ø±Ø¹Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            "Ø³Ø±Ø¹Ø© Ù†Ø³Ø® Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            "Ø³Ø±Ø¹Ø© Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª",
            "Ø³Ø±Ø¹Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§Ø³Ø¨",
          ],
          a: 2,
        },
        {
          q: "Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø­Ø« Ù…ÙƒØªÙˆØ¨ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:",
          opts: ["ØªØ­ÙˆÙŠÙ„Ù‡ HTML", "Ø¥Ø±Ø³Ø§Ù„Ù‡ ÙƒÙ…Ø±ÙÙ‚", "Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨ØªÙ‡", "ØªØ­ÙˆÙŠÙ„Ù‡ ØµÙˆØ±Ø©"],
          a: 1,
        },

        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ØªÙØ³ØªØ®Ø¯Ù… Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ¦Ø© Ø±Ù‚Ù…ÙŠØ© ØªÙØ­Ø§ÙƒÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¨Ø­ÙŠØ« ÙŠØ´Ø¹Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒØ£Ù†Ù‡ Ø¨Ø¯Ø§Ø®Ù„Ù‡Ø§ ÙˆÙŠØªÙØ§Ø¹Ù„ Ù…Ø¹Ù‡Ø§ ÙƒÙ…Ø§ Ù„Ùˆ ÙƒØ§Ù†Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŸ",
          opts: [
            "Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø£Ø´ÙŠØ§Ø¡",
            "Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ",
            "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
            "Ø§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©",
          ],
          a: 1,
        },
        {
          q: "Ø§Ù„Ù„Ø§Ù†Ø¯ Ø³ÙƒÙŠØ¨ (Landscape) ØªØ¯Ù„ Ø¹Ù„Ù‰:",
          opts: [
            "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ Ù„Ù„ØµÙØ­Ø©",
            "Ø­Ø¬Ù… Ø§Ù„Ø®Ø·",
            "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ Ù„Ù„ØµÙØ­Ø©",
            "Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·",
          ],
          a: 2,
        },
        {
          q: "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠØªÙƒÙˆÙ† Ù…Ù† Ø³ÙˆÙØª ÙˆÙŠØ± ÙˆÙ‡Ø§Ø±Ø¯ ÙˆÙŠØ± (Software and Hardware):",
          opts: ["ØµØ­", "Ø®Ø·Ø£"],
          a: 0,
        },
        {
          q: "ÙˆØ±Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:",
          opts: ["Ø¹Ù…ÙˆØ¯ ÙÙ‚Ø·", "ØµÙ ÙÙ‚Ø·", "Ø®Ù„ÙŠØ© ÙÙ‚Ø·", "Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ù…Ø¹Ø§"],
          a: 3,
        },
        {
          q: "Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙÙŠØ±ÙˆØ³Ø§Øª Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¬Ù‡Ø§Ø².",
          opts: ["ØµØ­", "Ø®Ø·Ø£"],
          a: 1,
        },
        {
          q: "Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø´Ø±Ø§Ø¡ Ù…ÙˆØ¯Ù… K56ØŒ ØªØ¹ÙˆØ¯ Ø§Ù„Ù€ K56 Ø¥Ù„Ù‰:",
          opts: [
            "ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ÙˆØ¯Ù…",
            "Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆØ¯Ù…",
            "Ø³Ø¹Ø© ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙˆØ¯Ù…",
            "Ø³Ø±Ø¹Ø© Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ù…ÙˆØ¯Ù…",
          ],
          a: 3,
        },
        {
          q: "Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ Ù…ÙƒØ§Ù†Ù‡ØŒ Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø£Ù† Ù†ÙƒØªØ¨ ÙÙŠ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«ØŸ",
          opts: [".exe", ".jpg", ".doc", "Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù"],
          a: 3,
        },
        {
          q: "Ù„Ù…Ø§Ø°Ø§ ÙŠØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ù„Ù‰ Ø°Ø§ÙƒØ±Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ØªÙ†Ù‚Ù„Ø© Ù…Ø«Ù„ Ø§Ù„ÙÙ„Ø§Ø´Ø© (USB)ØŸ",
          opts: [
            "Ù„ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù",
            "Ù„Ø­Ø°ÙÙ‡Ø§ Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²",
            "Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø£Ùˆ Ù„Ù†Ù‚Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ø¢Ø®Ø±",
            "Ù„ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù",
          ],
          a: 2,
        },
        {
          q: "Ù…Ø§ Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù‚Ø·Ø¹ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©ØŸ",
          opts: ["Resize", "Rotate", "Crop", "Zoom"],
          a: 2,
        },
        {
          q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø´Ø±Ø·Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ù†Ø§ÙØ°Ø© ExcelØŸ",
          opts: ["1", "2", "3", "4"],
          a: 1,
        },
        {
          q: "Ø§Ù„Ø§Ø®ØªØµØ§Ø± Ctrl + V ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù†Ø³Ø® Ø§Ù„Ù…Ø­ØªÙˆÙ‰.",
          opts: ["ØµØ­", "Ø®Ø·Ø£"],
          a: 1,
        },
        {
          q: "Ù…Ø§ Ø¯Ù„Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø®Ø· Ø£Ø­Ù…Ø± Ù…ØªÙ…ÙˆØ¬ ØªØ­Øª Ø§Ù„ÙƒÙ„Ù…Ø© ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Microsoft WordØŸ",
          opts: [
            "Ø®Ø·Ø£ Ù†Ø­ÙˆÙŠ",
            "Ø®Ø·Ø£ Ø¥Ù…Ù„Ø§Ø¦ÙŠ",
            "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚",
            "Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ø±Ø§Ø¯Ù Ù„Ù„ÙƒÙ„Ù…Ø©",
          ],
          a: 1,
        },

        {
          q: "Ù‡Ù„ ÙŠØ³ØªØ®Ø¯Ù… Ctrl+M Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø£Ø®ÙŠØ±ØŸ",
          opts: ["ØµØ­", "Ø®Ø·Ø£"],
          a: 1,
        },
        {
          q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø®ØªØµØ§Ø± Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ø¢Ø®Ø± Ø¥Ø¬Ø±Ø§Ø¡ØŸ",
          opts: ["Ctrl + V", "Ctrl + Z", "Ctrl + C", "Ctrl + Y"],
          a: 1,
        },
        {
          q: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ ÙŠÙØ¹Ø¯ Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ØŸ",
          opts: ["PowerPoint", "Excel", "Linux", "Word"],
          a: 2,
        },
        {
          q: "Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ù€ HTMLØŸ",
          opts: [
            "Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
            "Ù„ØºØ© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Word",
            "Ù„ØºØ© Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø§Øª Ø§Ù„ÙˆÙŠØ¨",
            "Ù„ØºØ© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ©",
          ],
          a: 2,
        },
        {
          q: "Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ù€ Portrait Ùˆ Landscape ÙÙŠ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø£ÙˆÙÙŠØ³ØŸ",
          opts: ["ØªØ®Ø·ÙŠØ· Ø§Ù„ØµÙØ­Ø©", "Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©", "Ø­Ø¬Ù… Ø§Ù„ÙˆØ±Ù‚Ø©", "Ø¬Ù…ÙŠØ¹ Ù…Ø§ Ø³Ø¨Ù‚"],
          a: 1,
        },
      ];

      const REQUIRED_PLAYERS = 1; // Ø§Ù„ØªØ¬Ø±Ø¨Ø© ØªØ¨Ø¯Ø£ Ø¹Ù†Ø¯ 2
      const PER_QUESTION_SECONDS = 15; // 15 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„

      /* ========== Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© ========== */
      const $ = (s) => document.querySelector(s);
      const welcomeCard = $("#welcomeCard"),
        joinBtn = $("#joinBtn"),
        nameInput = $("#nameInput"),
        playersCount = $("#playersCount");
      const waitingBox = $("#waitingBox"),
        waitingText = $("#waitingText"),
        waitingProgress = $("#waitingProgress");
      const quizCard = $("#quizCard"),
        questionText = $("#questionText"),
        optionsWrap = $("#options"),
        feedback = $("#feedback");
      const progressText = $("#progressText"),
        qProgress = $("#qProgress"),
        statusShort = $("#statusShort"),
        statusLabel = $("#statusLabel");
      const circleTimer = $("#circleTimer"),
        timeText = $("#timeText"),
        doneBox = $("#doneBox");
      const leaderList = $("#leaderList"),
        topBadge = $("#topBadge");

      /* ========== Ø­Ø§Ù„Ø© Ù…Ø­Ù„ÙŠØ© ========== */
      let playerId = null,
        playerName = "",
        localScore = 0,
        localIndex = 0,
        questionTimer = null,
        questionDeadline = null,
        started = false;
      const QUIZ_TOTAL_SECONDS = 180; // 3 Ø¯Ù‚Ø§Ø¦Ù‚
      const quizTimerEl = document.getElementById("quizTimer");
      let quizTimerInterval = null;
      let quizEndTime = null;
      function startQuizTimer(startedAtTimestamp) {
        stopQuizTimer();

        const now = Date.now();
        const elapsed = now - startedAtTimestamp;
        const remainingMs = QUIZ_TOTAL_SECONDS * 1000 - elapsed;

        if (remainingMs <= 0) {
          quizTimerEl.innerText = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª";
          endQuizDueToTime();
          return;
        }

        quizEndTime = now + remainingMs;

        quizTimerInterval = setInterval(() => {
          const remainingMsInner = quizEndTime - Date.now();
          if (remainingMsInner <= 0) {
            stopQuizTimer();
            quizTimerEl.innerText = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª";
            // Remove automatic end to allow players to continue until all finish
            return;
          }
          const remainingSec = Math.floor(remainingMsInner / 1000);
          const minutes = Math.floor(remainingSec / 60);
          const seconds = remainingSec % 60;
          quizTimerEl.innerText = `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${minutes
            .toString()
            .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
        }, 500);
      }

      function stopQuizTimer() {
        if (quizTimerInterval) {
          clearInterval(quizTimerInterval);
          quizTimerInterval = null;
        }
      }

      async function endQuizDueToTime() {
        stopQuizTimer();
        stopQuestionTimer();

        await liveRef.update({ status: "ended", endedAt: Date.now() });

        const snap = await playersRef.once("value");
        const data = snap.val() || {};
        const arr = Object.entries(data).map(([id, v]) => ({
          id,
          name: v.name || "Ù„Ø§Ø¹Ø¨",
          score: v.score || 0,
        }));

        if (arr.length === 0) return;

        arr.sort((a, b) => b.score - a.score);

        const winner = arr[0];
        const winnerName = winner.name;
        const winnerScore = winner.score;

        await liveRef.update({
          winnerName,
          winnerScore,
          status: "ended",
          announced: false,
        });

        showWinner(winnerName, winnerScore);
      }
      /* ========== Ø£ØµÙˆØ§Øª WebAudio (Ø¨Ø¯ÙˆÙ† Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ©) ========== */
      const AudioCtx = window.AudioContext || window.webkitAudioContext;
      let ctx = new AudioCtx();
      let audioUnlocked = false;
      function unlockAudio() {
        if (audioUnlocked) return;
        ctx
          .resume()
          .then(() => (audioUnlocked = true))
          .catch(() => {});
      }
      document.addEventListener("click", unlockAudio, { once: true });
      const leaveBtn = document.getElementById("leaveBtn");

      if (leaveBtn) {
        leaveBtn.addEventListener("click", async () => {
          if (playerId) {
            await db.ref(`liveQuiz/players/${playerId}`).remove();
            playerId = null;
            playerName = "";
            // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
            quizCard.classList.add("hidden");
            welcomeCard.classList.remove("hidden");

            // Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
            stopAllSounds();
          }
        });
      }

      window.addEventListener("beforeunload", () => {
        if (playerId) {
          db.ref(`liveQuiz/players/${playerId}`).remove();
        }
      });

      function beep({ freq = 600, type = "sine", ms = 200, gain = 0.06 } = {}) {
        try {
          const osc = ctx.createOscillator();
          const g = ctx.createGain();
          osc.type = type;
          osc.frequency.value = freq;
          g.gain.value = gain;
          osc.connect(g);
          g.connect(ctx.destination);
          osc.start();
          setTimeout(() => {
            osc.stop();
          }, ms);
        } catch (e) {}
      }
      const sfx = {
        start: () => beep({ freq: 900, type: "triangle", ms: 200 }),
        correct: () => {
          beep({ freq: 880, type: "sine", ms: 140 });
          setTimeout(() => beep({ freq: 1200, type: "sine", ms: 180 }), 120);
        },
        wrong: () => beep({ freq: 220, type: "sawtooth", ms: 260 }),
        tick: () => beep({ freq: 520, type: "square", ms: 60, gain: 0.03 }),
        win: () => {
          [880, 990, 1180, 1320].forEach((f, i) =>
            setTimeout(() => beep({ freq: f, type: "sine", ms: 160 }), i * 140)
          );
        },
      };
      function stopAllSounds() {
        try {
          // Ù„Ùˆ ÙÙŠ Ø£ÙŠ Audio Ø¨ÙŠØªØ´ØºÙ„ØŒ ÙˆÙ‚ÙÙ‡
          if (ctx && ctx.state !== "closed") {
            ctx.suspend(); // ÙŠÙˆÙ‚Ù ÙƒÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª Ø¨Ø¯ÙˆÙ† Ù…Ø§ ÙŠÙ‚ÙÙ„ Ø§Ù„Ù€ context
          }
        } catch (e) {
          console.error("Error stopping sounds:", e);
        }
      }

      /* ========== Ø§Ù†Ø¶Ù…Ø§Ù… ========== */

      const MAX_PLAYERS = 5; // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…ØªØ³Ø§Ø¨Ù‚ÙŠÙ†

      function showFullLobbyMessage() {
        const msg = document.getElementById("fullLobbyMsg");
        msg.style.display = "block";

        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
        const timeoutId = setTimeout(() => {
          msg.style.display = "none";
        }, 5000);

        // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹
        const closeBtn = document.getElementById("closeLobbyMsg");
        closeBtn.onclick = () => {
          clearTimeout(timeoutId);
          msg.style.display = "none";
        };
      }
      let QUIZ_OPEN = false; // Ù„Ùˆ true Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ù…ÙØªÙˆØ­Ø©ØŒ Ù„Ùˆ false Ù…Ù‚ÙÙˆÙ„Ø©

      joinBtn.addEventListener("click", async () => {
        unlockAudio();

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù‡Ù„ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ù…ÙØªÙˆØ­Ø© ÙˆÙ„Ø§ Ù…Ù‚ÙÙˆÙ„Ø©
        if (!QUIZ_OPEN) {
          alert("âŒ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ù…Ù‚ÙÙˆÙ„Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§");
          return;
        }

        // Ø¬Ù„Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ³Ø§Ø¨Ù‚ÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠÙŠÙ†
        const snap = await playersRef.once("value");
        const currentPlayers = snap.val() || {};
        const numPlayers = Object.keys(currentPlayers).length;

        if (numPlayers >= MAX_PLAYERS) {
          showFullLobbyMessage(); // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¯Ù„ alert
          return;
        }

        // âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³Ù… Ø¥Ø¬Ø¨Ø§Ø±ÙŠ
        const name = (nameInput.value || "").trim();
        if (!name) {
          alert("âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹");
          return;
        }

        playerName = name;
        const key = playersRef.push().key;
        playerId = key;

        await db.ref(`liveQuiz/players/${playerId}`).set({
          name: playerName,
          score: 0,
          currentQuestion: 0,
          finished: false,
          joinedAt: Date.now(),
        });

        db.ref(`liveQuiz/players/${playerId}`).onDisconnect().remove();
        welcomeCard.classList.add("hidden");

        const live = (await liveRef.once("value")).val() || {};
        if (live.status === "started") {
          started = true;
          startGame();
        }
      });

      /* ========== Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± + Ø¨Ø¯Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ 2 ========== */
      playersRef.on("value", async (snap) => {
        const data = snap.val() || {};
        const arr = Object.entries(data).map(([id, v]) => ({ id, ...v }));
        playersCount.innerText = arr.length;

        const pct = Math.min(
          100,
          Math.round((arr.length / REQUIRED_PLAYERS) * 100)
        );
        waitingProgress.style.width = pct + "%";
        waitingText.innerText = `ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¹Ø¯Ø¯ â€” Ø§Ù„Ø¢Ù† ${arr.length} / ${REQUIRED_PLAYERS}`;

        renderLeaders(arr);

        if (arr.length === 0) {
          await liveRef.set({ status: "waiting" });
          return;
        }

        const live = (await liveRef.once("value")).val() || {};
        if (arr.length >= REQUIRED_PLAYERS && live.status === "waiting") {
          const now = Date.now();
          await liveRef.update({ status: "started", startedAt: now });
        }
      });

      /* ========== Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Live ========== */
      // Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ù„ÙƒÙ„ Ù„Ø§Ø¹Ø¨
      liveRef.on("value", (snap) => {
        const val = snap.val() || {};
        const st = val.status || "waiting";

        statusShort.innerText =
          st === "started" ? "Ø¨Ø¯Ø£Øª" : st === "ended" ? "Ø§Ù†ØªÙ‡Øª" : "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±";
        statusLabel.innerText = statusShort.innerText;

        if (st === "started" && !started && playerId) {
          started = true;
          startGame();

          if (val.startedAt) {
            startQuizTimer(val.startedAt);
          } else {
            const now = Date.now();
            liveRef.update({ startedAt: now });
            startQuizTimer(now);
          }
        }

        if (st === "ended") {
          stopQuizTimer();
          stopQuestionTimer();
          if (val.winnerName) {
            showWinner(val.winnerName, val.winnerScore);
            if (!val.celebrated) {
              confetti({ particleCount: 250, spread: 80, origin: { y: 0.2 } });
              sfx.win();
              liveRef.update({ celebrated: true }).catch(() => {});
            }
          }
        }
      });

      /* ========== Ø¨Ø¯Ø¡ Ø§Ù„Ø¬ÙˆÙ„Ø© (Ù„ÙƒÙ„ Ø¹Ù…ÙŠÙ„) ========== */
      function startGame() {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ù…Ø­Ù„ÙŠØ©
        localScore = 0;
        localIndex = 0;
        quizCard.classList.remove("hidden");
        welcomeCard.classList.add("hidden");
        sfx.start();
        renderQuestion();
      }

      /* ========== Ø§Ù„Ù…Ø¤Ù‚Øª Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ ========== */
      function startQuestionTimer(totalSec = PER_QUESTION_SECONDS) {
        stopQuestionTimer();
        const endAt = Date.now() + totalSec * 1000;
        questionDeadline = endAt;

        questionTimer = setInterval(() => {
          const remain = Math.max(
            0,
            Math.ceil((questionDeadline - Date.now()) / 1000)
          );
          timeText.innerText = remain + " Ø«";
          // Ø¯Ø§Ø¦Ø±Ø©
          const elapsed =
            PER_QUESTION_SECONDS * 1000 -
            Math.max(0, questionDeadline - Date.now());
          const pct = Math.min(
            100,
            Math.round((elapsed / (PER_QUESTION_SECONDS * 1000)) * 100)
          );
          circleTimer.style.background = `conic-gradient(var(--brand) ${
            pct * 3.6
          }deg, #eee ${pct * 3.6}deg)`;
          circleTimer.innerText = remain;

          if (remain <= 5 && remain > 0) sfx.tick();

          if (remain <= 0) {
            stopQuestionTimer();
            // Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø© â†’ ÙŠÙ†ØªÙ‚Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
            nextQuestion();
          }
        }, 200);
      }
      function stopQuestionTimer() {
        if (questionTimer) {
          clearInterval(questionTimer);
          questionTimer = null;
        }
      }

      /* ========== Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„/Ø¥Ø¬Ø§Ø¨Ø§Øª ========== */
      let optionLock = false;
      function renderQuestion() {
        feedback.innerText = "";
        doneBox.classList.add("hidden");

        if (localIndex >= QUESTIONS.length) {
          // Ø®Ù„Ù‘ØµÙ†Ø§
          finishLocal();
          return;
        }

        const q = QUESTIONS[localIndex];
        questionText.innerText = q.q;
        optionsWrap.innerHTML = "";
        optionLock = false;

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        progressText.innerText = `Ø³Ø¤Ø§Ù„ ${localIndex + 1} / ${QUESTIONS.length}`;
        qProgress.style.width =
          Math.round((localIndex / QUESTIONS.length) * 100) + "%";

        // Ø®ÙŠØ§Ø±Ø§Øª (shuffle Ø¨Ø³ÙŠØ·)
        const opts = q.opts
          .map((o, i) => ({ o, i }))
          .sort(() => Math.random() - 0.5);
        opts.forEach(({ o, i }) => {
          const div = document.createElement("div");
          div.className = "option";
          div.innerText = o;
          div.onclick = async () => {
            if (optionLock) return;
            optionLock = true;

            if (i === q.a) {
              div.classList.add("correct");
              feedback.innerText = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© âœ…";
              sfx.correct();
              await db
                .ref(`liveQuiz/players/${playerId}/score`)
                .transaction((s) => (s || 0) + 1);
            } else {
              div.classList.add("wrong");
              feedback.innerText = `Ø®Ø·Ø£ âŒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.opts[q.a]}`;
              sfx.wrong();
              // Ø¥Ø¨Ø±Ø§Ø² Ø§Ù„ØµØ­
              Array.from(optionsWrap.children).forEach((c) => {
                if (c.innerText === q.opts[q.a]) c.classList.add("correct");
              });
            }

            // Ø­Ø¯Ù‘Ø« Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„Ø¹Ø±Ø¶)
            await db
              .ref(`liveQuiz/players/${playerId}`)
              .update({ currentQuestion: localIndex + 1 });

            setTimeout(() => nextQuestion(), 900);
          };
          optionsWrap.appendChild(div);
        });

        // Ø´ØºÙ‘Ù„ Ù…Ø¤Ù‚Øª Ø§Ù„Ø³Ø¤Ø§Ù„
        startQuestionTimer(PER_QUESTION_SECONDS);
      }

      function nextQuestion() {
        stopQuestionTimer();
        localIndex++;
        renderQuestion();
      }

      async function finishLocal() {
        stopQuestionTimer();
        optionsWrap.innerHTML = "";
        feedback.innerText = "Ø§Ù†ØªÙ‡ÙŠØª â€” Ø§Ù†ØªØ¸Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©";
        doneBox.classList.remove("hidden");

        // Ø¹Ù„Ù‘Ù… Ù†ÙØ³Ùƒ Ù…Ù†ØªÙ‡ÙŠ
        if (playerId)
          await db
            .ref(`liveQuiz/players/${playerId}`)
            .update({ finished: true });

        // ØªØ­Ù‚Ù‚ Ø¥Ù† ÙƒØ§Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù†ØªÙ‡Ù‰ â†’ Ø§Ù†Ù‡ÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø©
        const snap = await playersRef.once("value");
        const data = snap.val() || {};
        const arr = Object.values(data);
        const allFinished = arr.length > 0 && arr.every((p) => p.finished);
        if (allFinished) {
          await liveRef.update({ status: "ended", endedAt: Date.now() });
          finalize();
        }
      }

      /* ========== Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ========== */
      function renderLeaders(list) {
        const arr = list
          .slice()
          .sort((a, b) => (b.score || 0) - (a.score || 0));
        leaderList.innerHTML = "";
        arr.forEach((p, i) => {
          const li = document.createElement("li");
          li.className = "leader";
          if (i === 0) li.classList.add("rank1");
          if (i === 1) li.classList.add("rank2");
          if (i === 2) li.classList.add("rank3");

          const crown = i === 0 ? "ğŸ‘‘" : i + 1;
          const name = (p.name || "Ù„Ø§Ø¹Ø¨").toString();
          const score = p.score || 0;
          const pct = Math.min(
            100,
            Math.round((score / Math.max(1, QUESTIONS.length)) * 100)
          );

          li.innerHTML = `
                            <div class="crown">${crown}</div>
                            <div>
                              <div>${escapeHtml(name)}</div>
                              <div class="bar"><i style="width:${pct}%"></i></div>
                            </div>
                            <div>${score} Ù†Ù‚Ø·Ø©</div>
                          `;
          leaderList.appendChild(li);
        });
        topBadge.innerText = arr.length
          ? `${arr[0].name || "Ù„Ø§Ø¹Ø¨"} (${arr[0].score || 0})`
          : "â€”";
      }

      function escapeHtml(s) {
        return (s || "").toString().replace(
          /[&<>"']/g,
          (c) =>
            ({
              "&": "&amp;",
              "<": "&lt;",
              ">": "&gt;",
              '"': "&quot;",
              "'": "&#39;",
            }[c])
        );
      }

      /* ========== Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬ÙˆÙ„Ø© + Ø§Ø­ØªÙØ§Ù„ ========== */
      async function finalize() {
        try {
          const snap = await playersRef.once("value");
          const data = snap.val() || {};
          const arr = Object.entries(data).map(([id, v]) => ({
            id,
            name: v.name || "Ù„Ø§Ø¹Ø¨",
            score: v.score || 0,
          }));

          if (!arr.length) return;

          // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
          arr.sort((a, b) => b.score - a.score);

          const winner = arr[0];
          const winnerName = winner.name;
          const winnerScore = winner.score;

          // ØªØ­Ø¯ÙŠØ« liveRef Ø­ØªÙ‰ ÙƒÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙŠØ´ÙˆÙÙˆØ§ Ø§Ù„ÙØ§Ø¦Ø²
          await liveRef.update({
            winnerName,
            winnerScore,
            status: "ended",
            announced: false,
          });

          // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ù‚ØµÙŠØ±Ø© ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©
          setTimeout(async () => {
            await playersRef.remove();
            await liveRef.update({ status: "waiting" });
            welcomeCard.classList.remove("hidden");
            quizCard.classList.add("hidden");
            started = false;
            statusShort.innerText = "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±";
            statusLabel.innerText = "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±";
          }, 5000);
        } catch (e) {
          console.error("Error in finalize:", e);
        }
      }

      const winnerPopup = document.getElementById("winnerPopup");
      const winnerOverlay = document.getElementById("winnerOverlay");
      const winnerNameEl = document.getElementById("winnerName");
      const winnerScoreEl = document.getElementById("winnerScore");
      const closeWinnerBtn = document.getElementById("closeWinnerPopup");

      function showWinner(name, score) {
        winnerNameEl.innerText = name;
        winnerScoreEl.innerText = score + " Ù†Ù‚Ø·Ø©";
        winnerOverlay.classList.add("show");
        winnerPopup.classList.add("show");
      }

      // Ù„Ù…Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø§ØºÙ„Ø§Ù‚ Ø£Ùˆ Ø¹Ù„Ù‰ overlay
      function hideWinner() {
        // Ø§Ø®ÙØ§Ø¡ Ø§Ù„Ø¨ÙˆÙƒØ³ ÙˆØ§Ù„Ù€ overlay
        winnerOverlay.classList.remove("show");
        winnerPopup.classList.remove("show");
        winnerOverlay.style.display = "none";
        winnerPopup.style.display = "none";

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ±
        setTimeout(() => {
          document.getElementById("finalPage").classList.remove("hidden");
          document.getElementById("finalPage").classList.add("show");
        }, 300);
      }

      // Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      document.getElementById("backToHomeBtn").addEventListener("click", () => {
        // Ø§Ø®ÙØ§Ø¡ ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        document.getElementById("finalPage").classList.remove("show");
        document.getElementById("finalPage").classList.add("hidden");

        // Ø§Ø±Ø¬Ø¹ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        welcomeCard.classList.remove("hidden");
        quizCard.classList.add("hidden");
        started = false;
        statusShort.innerText = "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±";
        statusLabel.innerText = "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±";
      });

      // Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
      closeWinnerBtn.addEventListener("click", hideWinner);
      winnerOverlay.addEventListener("click", hideWinner);
    </script>
  </body>
</html>
